"use strict";(globalThis.webpackChunkmy_docusaurus_project=globalThis.webpackChunkmy_docusaurus_project||[]).push([[6408],{9165:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>h,contentTitle:()=>t,default:()=>m,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module-2/simulating-sensors-lidar-imu","title":"2.3 Creating Eyes & Ears: Simulating Sensors","description":"Giving the Robot Senses","source":"@site/docs/module-2/03-simulating-sensors-lidar-imu.mdx","sourceDirName":"module-2","slug":"/module-2/simulating-sensors-lidar-imu","permalink":"/phys-ai-book/ur/docs/module-2/simulating-sensors-lidar-imu","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"2.2 Physics, Properties & Collisions","permalink":"/phys-ai-book/ur/docs/module-2/physics-properties-collisions"},"next":{"title":"2.4 High-Fidelity Visualization: Unity Engine","permalink":"/phys-ai-book/ur/docs/module-2/visual-rendering-unity"}}');var s=n(4848),r=n(8453),l=n(3715),o=n(4021);const d={},t="2.3 Creating Eyes & Ears: Simulating Sensors",h={},c=[{value:"Giving the Robot Senses",id:"giving-the-robot-senses",level:2},{value:"Adding a LiDAR",id:"adding-a-lidar",level:3},{value:"Adding an IMU",id:"adding-an-imu",level:3},{value:"Viewing the Data",id:"viewing-the-data",level:3},{value:"Sensor Noise Models &amp; Realism",id:"sensor-noise-models--realism",level:2},{value:"Modeling Gaussian Noise",id:"modeling-gaussian-noise",level:3},{value:"IMU Bias and Drift",id:"imu-bias-and-drift",level:3},{value:"Depth Cameras (RGB-D)",id:"depth-cameras-rgb-d",level:3},{value:"Robot Ki Aankhein Aur Kaan",id:"robot-ki-aankhein-aur-kaan",level:2},{value:"LiDAR Lagana",id:"lidar-lagana",level:3},{value:"IMU Lagana",id:"imu-lagana",level:3},{value:"Data Dekhna",id:"data-dekhna",level:3},{value:"Sensor Noise (Shor) Aur Asliyat",id:"sensor-noise-shor-aur-asliyat",level:2},{value:"Gaussian Noise",id:"gaussian-noise",level:3},{value:"IMU Bias (Jhoot Bolna)",id:"imu-bias-jhoot-bolna",level:3},{value:"Optical Frame Ka Masla",id:"optical-frame-ka-masla",level:3}];function u(e){const a={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"23-creating-eyes--ears-simulating-sensors",children:"2.3 Creating Eyes & Ears: Simulating Sensors"})}),"\n",(0,s.jsxs)(l.A,{level:"novice",language:"english",children:[(0,s.jsx)(a.h2,{id:"giving-the-robot-senses",children:"Giving the Robot Senses"}),(0,s.jsx)(a.p,{children:"A robot needs to see and feel. In simulation, we fake these sensors.\nWe will add two critical sensors:"}),(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"LiDAR (Light Detection and Ranging)"}),": Lasers that measure distance to walls."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"IMU (Inertial Measurement Unit)"}),": Measures balance (gravity and rotation)."]}),"\n"]}),(0,s.jsx)(a.h3,{id:"adding-a-lidar",children:"Adding a LiDAR"}),(0,s.jsx)(a.p,{children:"In Gazebo, sensors are plugins attached to links.\nEdit your robot's SDF/URDF file."}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-xml",children:'<link name="lidar_link">\n  <visual>...</visual>\n  <sensor name="lidar" type="gpu_lidar">\n    <pose>0 0 0 0 0 0</pose>\n    <topic>scan</topic> \x3c!-- ROS Topic Name --\x3e\n    <update_rate>10</update_rate> \x3c!-- Hz --\x3e\n    <ray>\n      <scan>\n        <horizontal>\n          <samples>360</samples> \x3c!-- 360 degrees --\x3e\n          <resolution>1</resolution>\n          <min_angle>-3.14</min_angle>\n          <max_angle>3.14</max_angle>\n        </horizontal>\n      </scan>\n      <range>\n        <min>0.08</min>\n        <max>10.0</max>\n      </range>\n    </ray>\n    <always_on>1</always_on>\n    <visualize>true</visualize>\n  </sensor>\n</link>\n'})}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"visualize=true"}),": Shows blue laser lines in the simulator. Good for debugging."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"gpu_lidar"}),": Uses your graphics card. Much faster than CPU lidar."]}),"\n"]}),(0,s.jsx)(a.h3,{id:"adding-an-imu",children:"Adding an IMU"}),(0,s.jsx)(a.p,{children:"Without an IMU, a Humanoid robot cannot balance."}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-xml",children:'<link name="imu_link">\n  <sensor name="imu_sensor" type="imu">\n    <always_on>1</always_on>\n    <update_rate>100</update_rate> \x3c!-- Fast update for balance --\x3e\n    <topic>imu/data</topic>\n  </sensor>\n</link>\n'})}),(0,s.jsx)(a.h3,{id:"viewing-the-data",children:"Viewing the Data"}),(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsx)(a.li,{children:"Run the simulation."}),"\n",(0,s.jsxs)(a.li,{children:["Bridge the topics to ROS 2 (using ",(0,s.jsx)(a.code,{children:"ros_gz_bridge"}),")."]}),"\n",(0,s.jsxs)(a.li,{children:["Open ",(0,s.jsx)(a.code,{children:"rviz2"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["Add ",(0,s.jsx)(a.strong,{children:"LaserScan"})," display. You should see red dots outlining the walls!"]}),"\n"]})]}),"\n",(0,s.jsxs)(l.A,{level:"expert",language:"english",children:[(0,s.jsx)(a.h2,{id:"sensor-noise-models--realism",children:"Sensor Noise Models & Realism"}),(0,s.jsx)(a.p,{children:(0,s.jsx)(a.strong,{children:'The "Perfect Sensor" Trap'})}),(0,s.jsxs)(a.p,{children:["In simulation, a LiDAR returns exactly ",(0,s.jsx)(a.code,{children:"10.000m"}),". In reality, it returns ",(0,s.jsx)(a.code,{children:"10.02m"}),", then ",(0,s.jsx)(a.code,{children:"9.98m"}),", then ",(0,s.jsx)(a.code,{children:"NULL"}),".\nIf you train your AI on perfect data, it will fail in the real world (",(0,s.jsx)(a.strong,{children:"Sim-to-Real Gap"}),").\nWe must inject ",(0,s.jsx)(a.strong,{children:"Gaussian Noise"}),"."]}),(0,s.jsx)(a.h3,{id:"modeling-gaussian-noise",children:"Modeling Gaussian Noise"}),(0,s.jsx)(a.p,{children:"In the SDF sensor definition:"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-xml",children:"<ray>\n  <noise>\n    <type>gaussian</type>\n    <mean>0.0</mean>\n    <stddev>0.01</stddev> \x3c!-- 1cm error --\x3e\n  </noise>\n</ray>\n"})}),(0,s.jsx)(a.p,{children:"This adds random jitter to every reading."}),(0,s.jsx)(a.h3,{id:"imu-bias-and-drift",children:"IMU Bias and Drift"}),(0,s.jsx)(a.p,{children:"Real IMUs are terrible. They drift."}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Bias"}),": When standing still, it reports velocity = 0.01 m/s. Over 1 minute, the robot thinks it moved 0.6 meters!"]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"White Noise"}),": Random spikes."]}),"\n"]}),(0,s.jsxs)(a.p,{children:["To simulate a low-cost MEMS IMU (like the BNO055 used in our kit), consult the datasheet for the ",(0,s.jsx)(a.code,{children:"noise_density"})," and ",(0,s.jsx)(a.code,{children:"random_walk"})," parameters and map them to Gazebo's noise block."]}),(0,s.jsx)(a.h3,{id:"depth-cameras-rgb-d",children:"Depth Cameras (RGB-D)"}),(0,s.jsx)(a.p,{children:"Simulating an Intel RealSense."}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Type"}),": ",(0,s.jsx)(a.code,{children:"depth_camera"})," or ",(0,s.jsx)(a.code,{children:"rgbd_camera"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Compute Cost"}),": This renders the scene a second time (or third time for stereo). Be careful with resolution.","\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"320x240 @ 30Hz is often enough for navigation and runs 4x faster than 640x480."}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"The Optical Frame Convention"}),"\nStandard ROS camera frames follow: Z-forward, X-right, Y-down.\nStandard Gazebo frames follow: X-forward, Y-left, Z-up."]}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.em,{children:"Solution"}),": You must add an intermediate link ",(0,s.jsx)(a.code,{children:'<link name="camera_optical_frame">'})," rotated by ",(0,s.jsx)(a.code,{children:"-pi/2"})," on Roll and ",(0,s.jsx)(a.code,{children:"+pi/2"})," on Yaw to align the coordinate systems."]}),"\n"]})]}),"\n",(0,s.jsxs)(l.A,{level:"novice",language:"urdu",children:[(0,s.jsx)(a.h2,{id:"robot-ki-aankhein-aur-kaan",children:"Robot Ki Aankhein Aur Kaan"}),(0,s.jsx)(a.p,{children:(0,s.jsx)(a.strong,{children:"Hawaas (Senses) Paida Karna"})}),(0,s.jsx)(a.p,{children:"Robot ko dekhne aur mehsoos karne ki zaroorat hai. Simulation mein hum naqli sensors banate hain.\nDo sab se ahem sensors:"}),(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"LiDAR"}),": Laser jo faasla naapti hai (Deewaron se bachne ke liye)."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"IMU"}),": Jo balance naapta hai (Gravity aur ghoomna)."]}),"\n"]}),(0,s.jsx)(a.h3,{id:"lidar-lagana",children:"LiDAR Lagana"}),(0,s.jsx)(a.p,{children:"Gazebo mein sensors 'Plugin' hotay hain.\nApne robot ki file mein yeh code shamil karein:"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-xml",children:'<link name="lidar_link">\n  <sensor name="lidar" type="gpu_lidar">\n    <topic>scan</topic> \x3c!-- ROS Topic ka naam --\x3e\n    <update_rate>10</update_rate> \x3c!-- 1 second mein 10 baar --\x3e\n    <ray>\n      <scan>\n        <horizontal>\n          <samples>360</samples> \x3c!-- Pura gol ghumega --\x3e\n        </horizontal>\n      </scan>\n      <range>\n        <min>0.08</min> \x3c!-- Is se qareeb andha hai --\x3e\n        <max>10.0</max> \x3c!-- Is se door andha hai --\x3e\n      </range>\n    </ray>\n    <visualize>true</visualize> \x3c!-- Neeli rays dikhao --\x3e\n  </sensor>\n</link>\n'})}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"gpu_lidar"}),": Hum graphics card use karenge taake computer slow na ho."]}),"\n"]}),(0,s.jsx)(a.h3,{id:"imu-lagana",children:"IMU Lagana"}),(0,s.jsx)(a.p,{children:"IMU ke baghair Humanoid robot khara nahi ho sakta."}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-xml",children:'<link name="imu_link">\n  <sensor name="imu_sensor" type="imu">\n    <update_rate>100</update_rate> \x3c!-- Balance ke liye tez chahiye --\x3e\n    <topic>imu/data</topic>\n  </sensor>\n</link>\n'})}),(0,s.jsx)(a.h3,{id:"data-dekhna",children:"Data Dekhna"}),(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsx)(a.li,{children:"Simulation chalayein."}),"\n",(0,s.jsx)(a.li,{children:"Bridge on karein."}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"rviz2"})," kholein aur ",(0,s.jsx)(a.strong,{children:"LaserScan"})," add karein. Aap ko deewaron ki outline nazar aayegi."]}),"\n"]})]}),"\n",(0,s.jsxs)(l.A,{level:"expert",language:"urdu",children:[(0,s.jsx)(a.h2,{id:"sensor-noise-shor-aur-asliyat",children:"Sensor Noise (Shor) Aur Asliyat"}),(0,s.jsx)(a.p,{children:(0,s.jsx)(a.strong,{children:'"Perfect Sensor" Ka Dhoka'})}),(0,s.jsxs)(a.p,{children:["Simulation mein LiDAR bilkul sahi ",(0,s.jsx)(a.code,{children:"10.000m"})," batata hai. Haqeeqat mein, wo ",(0,s.jsx)(a.code,{children:"10.02m"})," ya ",(0,s.jsx)(a.code,{children:"9.98m"})," bataye ga.\nAgar aap apni AI ko perfect data par train karenge, to asli dunya mein wo fail ho jaye gi.\nHumein jaan boojh kar data mein ghalti (",(0,s.jsx)(a.strong,{children:"Noise"}),") daalni parti hai."]}),(0,s.jsx)(a.h3,{id:"gaussian-noise",children:"Gaussian Noise"}),(0,s.jsx)(a.p,{children:"SDF file mein hum noise add karte hain:"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-xml",children:"<ray>\n  <noise>\n    <type>gaussian</type>\n    <mean>0.0</mean>\n    <stddev>0.01</stddev> \x3c!-- 1cm ki ghalti --\x3e\n  </noise>\n</ray>\n"})}),(0,s.jsx)(a.p,{children:"Is se har reading thori si upar neeche ho jati hai."}),(0,s.jsx)(a.h3,{id:"imu-bias-jhoot-bolna",children:"IMU Bias (Jhoot Bolna)"}),(0,s.jsx)(a.p,{children:"Asli IMU (sastay wale) hamesha jhoot bolte hain."}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Bias"}),': Jab robot ruka hua hai, sensor kehta hai "main chal raha hoon". Agar aap ne isay fix na kiya, to robot khud bakhud gir jaye ga.']}),"\n",(0,s.jsxs)(a.li,{children:["Datasheet parh kar ",(0,s.jsx)(a.code,{children:"noise_density"})," ki values simulation mein daalna zaroori hai."]}),"\n"]}),(0,s.jsx)(a.h3,{id:"optical-frame-ka-masla",children:"Optical Frame Ka Masla"}),(0,s.jsxs)(a.p,{children:['ROS mein camera ka "Aagay" ',(0,s.jsx)(a.strong,{children:"Z-axis"}),' hota hai.\nGazebo mein "Aagay" ',(0,s.jsx)(a.strong,{children:"X-axis"})," hota hai.\nAgar aap isay theek nahi karenge, to robot ko zameen asmaan mein nazar aayegi."]}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.em,{children:"Hal"}),": Ek naya link banayein ",(0,s.jsx)(a.code,{children:"camera_optical_frame"})," aur usay 90 degree ghuma dein taake dono systems match ho jayein."]}),"\n"]})]}),"\n",(0,s.jsx)(o.A,{questions:[{question:"Why do we intentionally add 'Noise' to simulated sensors?",options:["To save memory","To make the simulation look cooler","To prepare the AI for the imperfections of real-world hardware","It is a bug in Gazebo"],correctAnswer:2},{question:"What is the primary advantage of 'gpu_lidar' over standard 'lidar'?",options:["It is more colorful","It calculates rays using the GPU, drastically improving performance","It is cheaper","It works in the dark"],correctAnswer:1},{question:"Urdu: ROS Camera standard mein 'Aagay' (Forward) kaunsa axis hota hai?",options:["X-axis","Y-axis","Z-axis","Koi bhi nahi"],correctAnswer:2}]})]})}function m(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);