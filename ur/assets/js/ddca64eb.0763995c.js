"use strict";(globalThis.webpackChunkmy_docusaurus_project=globalThis.webpackChunkmy_docusaurus_project||[]).push([[6008],{496:(s,e,a)=>{a.r(e),a.d(e,{assets:()=>m,contentTitle:()=>h,default:()=>p,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"module-1/module-1-capstone","title":"1.9 Module 1 Capstone: The Simulated Bot","description":"Project: Building \\"Blinky\\"","source":"@site/docs/module-1/module-1-capstone.mdx","sourceDirName":"module-1","slug":"/module-1/module-1-capstone","permalink":"/phys-ai-book/ur/docs/module-1/module-1-capstone","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"1.8 Orientation in Space: TF2 & Transforms","permalink":"/phys-ai-book/ur/docs/module-1/tf2-transforms-kinematics"},"next":{"title":"2.1 Gazebo Fundamentals & The Simulation Loop","permalink":"/phys-ai-book/ur/docs/module-2/gazebo-fundamentals"}}');var i=a(4848),l=a(8453),t=a(3715),r=a(4021);const c={},h="1.9 Module 1 Capstone: The Simulated Bot",m={},o=[{value:"Project: Building &quot;Blinky&quot;",id:"project-building-blinky",level:2},{value:"Step 1: The URDF (<code>urdf/blinky.urdf</code>)",id:"step-1-the-urdf-urdfblinkyurdf",level:3},{value:"Step 2: The Controller Node (<code>blinky_bot/head_controller.py</code>)",id:"step-2-the-controller-node-blinky_bothead_controllerpy",level:3},{value:"Step 3: The Launch File (<code>launch/visualize.launch.py</code>)",id:"step-3-the-launch-file-launchvisualizelaunchpy",level:3},{value:"Project: The Inverse Kinematics (IK) Server",id:"project-the-inverse-kinematics-ik-server",level:2},{value:"The Math (2-Link Planar)",id:"the-math-2-link-planar",level:3},{value:"Implementation Highlights",id:"implementation-highlights",level:3},{value:"Project: &quot;Blinky&quot; Banana",id:"project-blinky-banana",level:2},{value:"Step 1: URDF",id:"step-1-urdf",level:3},{value:"Step 2: Controller Node (<code>blinky_bot/head_controller.py</code>)",id:"step-2-controller-node-blinky_bothead_controllerpy",level:3},{value:"Step 3: Launch File",id:"step-3-launch-file",level:3},{value:"Project: Inverse Kinematics (IK) Server",id:"project-inverse-kinematics-ik-server",level:2},{value:"Implementation",id:"implementation",level:3}];function d(s){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msubsup:"msubsup",msup:"msup",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",...(0,l.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"19-module-1-capstone-the-simulated-bot",children:"1.9 Module 1 Capstone: The Simulated Bot"})}),"\n",(0,i.jsxs)(t.A,{level:"novice",language:"english",children:[(0,i.jsx)(e.h2,{id:"project-building-blinky",children:'Project: Building "Blinky"'}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Objective"}),"\nCombine everything you learned in Module 1 to build a simple URDF robot that can be controlled via ROS 2 topics and visualized in Rviz2."]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Requirements:"})}),(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Package"}),": Create a package named ",(0,i.jsx)(e.code,{children:"blinky_bot"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"URDF"}),": Design a robot with a box body and a moving head (pan/tilt)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Launch"}),": Create a launch file to start ",(0,i.jsx)(e.code,{children:"robot_state_publisher"})," and ",(0,i.jsx)(e.code,{children:"rviz2"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Control"}),": Write a Python node that moves the head back and forth (Sine wave)."]}),"\n"]}),(0,i.jsxs)(e.h3,{id:"step-1-the-urdf-urdfblinkyurdf",children:["Step 1: The URDF (",(0,i.jsx)(e.code,{children:"urdf/blinky.urdf"}),")"]}),(0,i.jsx)(e.p,{children:"Define a base and a head."}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-xml",children:'<robot name="blinky">\n  <link name="base_link">\n    <visual>\n      <geometry><box size="0.2 0.2 0.2"/></geometry>\n      <material name="white"><color rgba="1 1 1 1"/></material>\n    </visual>\n  </link>\n  \n  <link name="head">\n    <visual>\n      <geometry><sphere radius="0.1"/></geometry>\n      <material name="red"><color rgba="1 0 0 1"/></material>\n    </visual>\n  </link>\n\n  <joint name="neck_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.15"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\n  </joint>\n</robot>\n'})}),(0,i.jsxs)(e.h3,{id:"step-2-the-controller-node-blinky_bothead_controllerpy",children:["Step 2: The Controller Node (",(0,i.jsx)(e.code,{children:"blinky_bot/head_controller.py"}),")"]}),(0,i.jsxs)(e.p,{children:["This node will publish ",(0,i.jsx)(e.code,{children:"JointState"})," messages to move the head."]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nimport math\n\nclass HeadController(Node):\n    def __init__(self):\n        super().__init__('head_controller')\n        self.pub = self.create_publisher(JointState, 'joint_states', 10)\n        self.timer = self.create_timer(0.1, self.move_head)\n        self.t = 0.0\n\n    def move_head(self):\n        msg = JointState()\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.name = ['neck_joint']\n        # Sine wave movement\n        msg.position = [math.sin(self.t)]\n        self.pub.publish(msg)\n        self.t += 0.1\n\ndef main():\n    rclpy.init()\n    rclpy.spin(HeadController())\n    rclpy.shutdown()\n"})}),(0,i.jsxs)(e.h3,{id:"step-3-the-launch-file-launchvisualizelaunchpy",children:["Step 3: The Launch File (",(0,i.jsx)(e.code,{children:"launch/visualize.launch.py"}),")"]}),(0,i.jsxs)(e.p,{children:["We need ",(0,i.jsx)(e.code,{children:"robot_state_publisher"})," to read the URDF and ",(0,i.jsx)(e.code,{children:"rviz2"})," to see it. Note: Since we are manually publishing joint states, we don't strictly need ",(0,i.jsx)(e.code,{children:"joint_state_publisher_gui"}),", but our controller acts as the ",(0,i.jsx)(e.code,{children:"joint_state_publisher"}),"."]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"(Detailed Launch setup omitted for brevity - use standard template from section 1.6)"})}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Verification:"}),"\nRun the launch file. You should see a white box with a red sphere head rotating left and right smoothly in 3D space."]})]}),"\n",(0,i.jsxs)(t.A,{level:"expert",language:"english",children:[(0,i.jsx)(e.h2,{id:"project-the-inverse-kinematics-ik-server",children:"Project: The Inverse Kinematics (IK) Server"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Objective"}),"\nCreate a service-based IK solver for a 2-DOF planar arm using ",(0,i.jsx)(e.code,{children:"scipy"})," or numerical methods, and visualize the TF frames."]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Requirements:"})}),(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"URDF"}),": 2-link arm (",(0,i.jsx)(e.code,{children:"link1"}),", ",(0,i.jsx)(e.code,{children:"link2"}),")."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Service"}),": Create a custom service ",(0,i.jsx)(e.code,{children:"SolveIK"}),". Request: ",(0,i.jsx)(e.code,{children:"(x, y)"}),". Response: ",(0,i.jsx)(e.code,{children:"(joint1, joint2)"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"TF Broadcasting"}),": Broadcast the frames of the arm based on the calculated joints."]}),"\n"]}),(0,i.jsx)(e.h3,{id:"the-math-2-link-planar",children:"The Math (2-Link Planar)"}),(0,i.jsxs)(e.p,{children:["Given lengths ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"L"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"L"}),(0,i.jsx)(e.mn,{children:"2"})]})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"L_1, L_2"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"L"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"L"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," and target ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"(x, y)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]}),".\nUsing Law of Cosines to find joint angles ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"\u03b8"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsx)(e.mo,{separator:"true",children:","}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"\u03b8"}),(0,i.jsx)(e.mn,{children:"2"})]})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\theta_1, \\theta_2"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mpunct",children:","}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]}),".\n",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"cos"}),(0,i.jsx)(e.mo,{children:"\u2061"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"\u03b8"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.mfrac,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msup,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msup,{children:[(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsxs)(e.msubsup,{children:[(0,i.jsx)(e.mi,{children:"L"}),(0,i.jsx)(e.mn,{children:"1"}),(0,i.jsx)(e.mn,{children:"2"})]}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsxs)(e.msubsup,{children:[(0,i.jsx)(e.mi,{children:"L"}),(0,i.jsx)(e.mn,{children:"2"}),(0,i.jsx)(e.mn,{children:"2"})]})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mn,{children:"2"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"L"}),(0,i.jsx)(e.mn,{children:"1"})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"L"}),(0,i.jsx)(e.mn,{children:"2"})]})]})]})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\cos(\\theta_2) = \\frac{x^2 + y^2 - L_1^2 - L_2^2}{2 L_1 L_2}"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mop",children:"cos"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.5792em",verticalAlign:"-0.4451em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"1.1341em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mtight",children:"2"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"L"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3173em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"L"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3173em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.5102em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.8913em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.931em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})})})})})]}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"+"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.8913em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.931em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})})})})})]}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"L"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"0.8913em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.214em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})})]}),(0,i.jsxs)(e.span,{style:{top:"-2.931em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.286em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"L"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"0.8913em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.214em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]}),(0,i.jsxs)(e.span,{style:{top:"-2.931em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:"2"})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.286em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.4451em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})]}),(0,i.jsx)(e.h3,{id:"implementation-highlights",children:"Implementation Highlights"}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Service Callback:"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"def solve_ik_callback(self, request, response):\n    try:\n        # Inverse Kinematics Logic\n        q2 = math.acos((request.x**2 + request.y**2 - L1**2 - L2**2) / (2*L1*L2))\n        q1 = math.atan2(request.y, request.x) - math.atan2(L2*math.sin(q2), L1 + L2*math.cos(q2))\n        \n        response.joint1 = q1\n        response.joint2 = q2\n        response.success = True\n        \n        # Update Visualization (TF)\n        self.broadcast_transforms(q1, q2)\n        \n    except ValueError:\n        response.success = False # Target out of reach\n    return response\n"})}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Broadcasting the Chain:"}),"\nThe node must manually broadcast ",(0,i.jsx)(e.code,{children:"base -> link1"})," and ",(0,i.jsx)(e.code,{children:"link1 -> link2"})," transforms using ",(0,i.jsx)(e.code,{children:"TransformBroadcaster"})," so Rviz updates immediately upon service call."]})]}),"\n",(0,i.jsxs)(t.A,{level:"novice",language:"urdu",children:[(0,i.jsx)(e.h2,{id:"project-blinky-banana",children:'Project: "Blinky" Banana'}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Maqsad"}),"\nModule 1 mein seekhi hui har cheez ko mila kar ek chota robot banayein jise hum ROS 2 se control kar sakein."]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Zarooriyat:"})}),(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Package"}),": ",(0,i.jsx)(e.code,{children:"blinky_bot"})," naam ka package."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"URDF"}),": Ek robot jiska jism (box) ho aur sar (head) ghoom sake."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Launch"}),": ",(0,i.jsx)(e.code,{children:"rviz2"})," aur robot ko start karne ki file."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Control"}),": Ek Python node jo sar ko dayein-bayein hilaye (Sine wave)."]}),"\n"]}),(0,i.jsx)(e.h3,{id:"step-1-urdf",children:"Step 1: URDF"}),(0,i.jsx)(e.p,{children:"Ek box aur ek sphere (gola) define karein.\n(Code English section wala use karein, wo same rahega)."}),(0,i.jsxs)(e.h3,{id:"step-2-controller-node-blinky_bothead_controllerpy",children:["Step 2: Controller Node (",(0,i.jsx)(e.code,{children:"blinky_bot/head_controller.py"}),")"]}),(0,i.jsxs)(e.p,{children:["Yeh node ",(0,i.jsx)(e.code,{children:"JointState"})," message bheje ga taake sar hile."]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nimport math\n\nclass HeadController(Node):\n    def __init__(self):\n        super().__init__('head_controller')\n        self.pub = self.create_publisher(JointState, 'joint_states', 10)\n        self.timer = self.create_timer(0.1, self.move_head)\n        self.t = 0.0\n\n    def move_head(self):\n        msg = JointState()\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.name = ['neck_joint'] # URDF wala joint name\n        # Sine wave (Lehar ki tarah harkat)\n        msg.position = [math.sin(self.t)]\n        self.pub.publish(msg)\n        self.t += 0.1\n\ndef main():\n    rclpy.init()\n    rclpy.spin(HeadController())\n    rclpy.shutdown()\n"})}),(0,i.jsx)(e.h3,{id:"step-3-launch-file",children:"Step 3: Launch File"}),(0,i.jsxs)(e.p,{children:["Hum launch file chalayenge jo ",(0,i.jsx)(e.code,{children:"robot_state_publisher"})," ko on karegi. Jab humara Python node ",(0,i.jsx)(e.code,{children:"joint_states"})," bheje ga, to ",(0,i.jsx)(e.code,{children:"robot_state_publisher"})," usay sun kar robot ki TF update karega, aur Rviz mein robot hilta hua nazar aayega."]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Tasdeeq:"}),'\nLaunch file chalayein. Aap ko screen par ek safed box aur laal sar nazar aana chahiye jo "Na, Na" ke andaaz mein hil raha ho.']})]}),"\n",(0,i.jsxs)(t.A,{level:"expert",language:"urdu",children:[(0,i.jsx)(e.h2,{id:"project-inverse-kinematics-ik-server",children:"Project: Inverse Kinematics (IK) Server"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Maqsad"}),"\nEk Service banayein jo ",(0,i.jsx)(e.code,{children:"(x, y)"})," coordinate le aur bataye ke robot ke joints ",(0,i.jsx)(e.code,{children:"(theta1, theta2)"})," ko kaisa hona chahiye taake wo wahan pohnch sake."]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Math (2-Link Arm)"}),"\nHumein Trigonometry (Law of Cosines) use karna parega.\nAgar robot ka haath chota hai aur target door hai, to math error aayega. Humein is error ko pakarna (catch) hoga."]}),(0,i.jsx)(e.h3,{id:"implementation",children:"Implementation"}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Service Callback:"})}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def solve_ik_callback(self, request, response):\n    try:\n        # Hisab Kitaab\n        # Math.acos domain error de ga agar target door hua\n        q2 = math.acos((request.x**2 + request.y**2 - L1**2 - L2**2) / (2*L1*L2))\n        q1 = math.atan2(request.y, request.x) - math.atan2(L2*math.sin(q2), L1 + L2*math.cos(q2))\n        \n        response.joint1 = q1\n        response.joint2 = q2\n        response.success = True\n        \n        # Visualization update karein\n        self.broadcast_transforms(q1, q2)\n        \n    except ValueError:\n        self.get_logger().error("Haath wahan tak nahi pohnch sakta!")\n        response.success = False\n    return response\n'})}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"TF Broadcasting:"}),"\nNode ko khud TF broadcast karni paregi taake Rviz mein haath ki position foran update ho jaye jaise hi service call ho."]})]}),"\n",(0,i.jsx)(r.A,{questions:[{question:"In the 'Blinky' project, which node calculates the forward kinematics (transforms) based on the joint angles provided?",options:["rviz2","head_controller","robot_state_publisher","joint_state_publisher"],correctAnswer:2},{question:"What happens if you try to calculate Inverse Kinematics for a target point that is further away than the length of the robot arm?",options:["The robot stretches","A mathematical domain error occurs (cannot calculate arccos of value > 1)","The robot moves to the closest point","ROS 2 crashes"],correctAnswer:1},{question:"Urdu: Rviz2 mein robot ko dekhne ke liye kaunsa topic zaroori hai?",options:["/camera/image","/robot_description (URDF) aur /tf","/battery_status","/cmd_vel"],correctAnswer:1}]})]})}function p(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(d,{...s})}):d(s)}}}]);