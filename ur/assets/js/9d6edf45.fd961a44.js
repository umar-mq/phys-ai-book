"use strict";(globalThis.webpackChunkmy_docusaurus_project=globalThis.webpackChunkmy_docusaurus_project||[]).push([[6036],{2846:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>m,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"module-2/sdf-format-mastery","title":"2.7 SDF Mastery & Module 2 Capstone","description":"The Language of Gazebo: SDF","source":"@site/docs/module-2/07-sdf-format-mastery.mdx","sourceDirName":"module-2","slug":"/module-2/sdf-format-mastery","permalink":"/phys-ai-book/ur/docs/module-2/sdf-format-mastery","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"2.6 Building the World: Environment Design","permalink":"/phys-ai-book/ur/docs/module-2/creating-environments"},"next":{"title":"3.1 The Industrial Metaverse: NVIDIA Isaac Sim","permalink":"/phys-ai-book/ur/docs/module-3/isaac-sim-overview"}}');var a=i(4848),o=i(8453),r=i(3715),l=i(4021);const d={},t="2.7 SDF Mastery & Module 2 Capstone",c={},h=[{value:"The Language of Gazebo: SDF",id:"the-language-of-gazebo-sdf",level:2},{value:"Structure of an SDF World",id:"structure-of-an-sdf-world",level:3},{value:"Module 2 Capstone: The Maze Runner",id:"module-2-capstone-the-maze-runner",level:3},{value:"Advanced SDF: Plugins and Kinematic Loops",id:"advanced-sdf-plugins-and-kinematic-loops",level:2},{value:"Writing Custom Gazebo Plugins (C++)",id:"writing-custom-gazebo-plugins-c",level:3},{value:"Composition: The <code>&lt;include&gt;</code> Tag vs. Nested Models",id:"composition-the-include-tag-vs-nested-models",level:3},{value:"Module 2 Capstone: High-Fidelity Gym Environment",id:"module-2-capstone-high-fidelity-gym-environment",level:3},{value:"Gazebo Ki Zaban: SDF",id:"gazebo-ki-zaban-sdf",level:2},{value:"SDF World Ki Saakht",id:"sdf-world-ki-saakht",level:3},{value:"Module 2 Capstone: Bhool Bhulaiya (Maze)",id:"module-2-capstone-bhool-bhulaiya-maze",level:3},{value:"Advanced SDF: Plugins aur Kinematic Loops",id:"advanced-sdf-plugins-aur-kinematic-loops",level:2},{value:"Custom Plugins Likhna (C++)",id:"custom-plugins-likhna-c",level:3},{value:"Composition (Cheezon ko Jorna)",id:"composition-cheezon-ko-jorna",level:3},{value:"Module 2 Capstone: RL Training Environment",id:"module-2-capstone-rl-training-environment",level:3}];function u(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"27-sdf-mastery--module-2-capstone",children:"2.7 SDF Mastery & Module 2 Capstone"})}),"\n",(0,a.jsxs)(r.A,{level:"novice",language:"english",children:[(0,a.jsx)(n.h2,{id:"the-language-of-gazebo-sdf",children:"The Language of Gazebo: SDF"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"URDF is for ROS. SDF is for Gazebo."})}),(0,a.jsxs)(n.p,{children:["We learned ",(0,a.jsx)(n.strong,{children:"URDF"})," to describe the robot's body. However, URDF cannot describe the ",(0,a.jsx)(n.em,{children:"World"})," (Sun, Ground, Houses).\nGazebo created its own format called ",(0,a.jsx)(n.strong,{children:"SDF (Simulation Description Format)"}),"."]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"URDF"}),": Describes ",(0,a.jsx)(n.em,{children:"one"})," robot."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SDF"}),": Describes the ",(0,a.jsx)(n.em,{children:"entire universe"})," (Robots + Lights + Physics + Plugins)."]}),"\n"]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Converting URDF to SDF"}),"\nWhen you spawn a URDF robot in Gazebo, it actually converts it to SDF behind the scenes. Sometimes this conversion fails. It is better to know how to write SDF directly for advanced simulation features."]}),(0,a.jsx)(n.h3,{id:"structure-of-an-sdf-world",children:"Structure of an SDF World"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.6">\n  <world name="default">\n    \x3c!-- 1. The Light Source --\x3e\n    <include>\n      <uri>https://fuel.gazebosim.org/1.0/OpenRobotics/models/Sun</uri>\n    </include>\n\n    \x3c!-- 2. The Ground --\x3e\n    <include>\n      <uri>https://fuel.gazebosim.org/1.0/OpenRobotics/models/Ground Plane</uri>\n    </include>\n\n    \x3c!-- 3. Physics Settings --\x3e\n    <physics name="1ms" type="ignored">\n      <max_step_size>0.001</max_step_size> \x3c!-- 1ms time step --\x3e\n      <real_time_factor>1.0</real_time_factor> \x3c!-- Real speed --\x3e\n    </physics>\n\n    \x3c!-- 4. Your Robot --\x3e\n    <model name="my_robot">\n      <pose>0 0 0.5 0 0 0</pose>\n      <link name="base_link">\n        ...\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),(0,a.jsx)(n.h3,{id:"module-2-capstone-the-maze-runner",children:"Module 2 Capstone: The Maze Runner"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Objective"}),"\nCreate a simulation where a robot spawns in a walled maze."]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Create the World"}),": Use Building Editor to draw a maze (walls forming a path). Save as ",(0,a.jsx)(n.code,{children:"maze.sdf"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add the Robot"}),": Include your ",(0,a.jsx)(n.code,{children:"blinky_bot"})," from Module 1 into this world."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add Sensors"}),": Attach a Lidar to the robot."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Run"}),": Launch the simulation and visualize the Lidar in Rviz2."]}),"\n"]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Challenge"}),":\nCan you write a Python node that makes the robot drive forward, and turn left if the Lidar sees a wall closer than 1 meter?"]})]}),"\n",(0,a.jsxs)(r.A,{level:"expert",language:"english",children:[(0,a.jsx)(n.h2,{id:"advanced-sdf-plugins-and-kinematic-loops",children:"Advanced SDF: Plugins and Kinematic Loops"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Why SDF exists (The Closed Loop Problem)"})}),(0,a.jsxs)(n.p,{children:['URDF is a "Tree" structure (Parent -> Child). It cannot handle ',(0,a.jsx)(n.strong,{children:"Closed Kinematic Chains"})," (Loops)."]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"Example"}),": A four-bar linkage mechanism or a robot gripping a railing with two hands.\nSDF allows arbitrary graph structures, making it essential for complex parallel robots (like Stewart Platforms)."]}),"\n"]}),(0,a.jsx)(n.h3,{id:"writing-custom-gazebo-plugins-c",children:"Writing Custom Gazebo Plugins (C++)"}),(0,a.jsx)(n.p,{children:"Sometimes you need custom logic inside the simulator (e.g., a treadmill that moves objects, or a wind generator). You write a C++ plugin."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:"#include <gz/sim/System.hh>\n#include <gz/plugin/Register.hh>\n\nusing namespace gz;\nusing namespace sim;\n\nclass WindPlugin : public System, public ISystemPreUpdate\n{\n  public: void PreUpdate(const UpdateInfo &_info, EntityComponentManager &_ecm) override\n  {\n    // Apply force to all objects to simulate wind\n    // ...\n  }\n};\n\nGZ_ADD_PLUGIN(WindPlugin, System, ISystemPreUpdate)\n"})}),(0,a.jsxs)(n.h3,{id:"composition-the-include-tag-vs-nested-models",children:["Composition: The ",(0,a.jsx)(n.code,{children:"<include>"})," Tag vs. Nested Models"]}),(0,a.jsx)(n.p,{children:"SDF allows nesting models."}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Composition"}),": You can create a ",(0,a.jsx)(n.code,{children:"wheel.sdf"})," and include it 4 times in ",(0,a.jsx)(n.code,{children:"car.sdf"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Override"}),": You can override properties of the included model."]}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<include>\n  <uri>model://wheel</uri>\n  <name>front_left_wheel</name>\n  <pose>1 1 0 0 0 0</pose>\n  \x3c!-- Overriding friction for this specific wheel --\x3e\n  <experimental:params>\n    <mu>2.0</mu>\n  </experimental:params>\n</include>\n"})}),(0,a.jsx)(n.h3,{id:"module-2-capstone-high-fidelity-gym-environment",children:"Module 2 Capstone: High-Fidelity Gym Environment"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Objective"}),"\nBuild an OpenAI Gym-compatible environment for RL training."]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Headless Gazebo"}),": Configure a launch file to run ",(0,a.jsx)(n.code,{children:"gz sim -s"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Reset Plugin"}),": Use the ",(0,a.jsx)(n.code,{children:"WorldControl"})," system to reset the robot pose without restarting the process (critical for RL speed)."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Bridge"}),": Optimize the ",(0,a.jsx)(n.code,{children:"ros_gz_bridge"})," to only expose ",(0,a.jsx)(n.code,{children:"/cmd_vel"})," (Input) and ",(0,a.jsx)(n.code,{children:"/scan"})," + ",(0,a.jsx)(n.code,{children:"/odom"})," (Output)."]}),"\n"]})]}),"\n",(0,a.jsxs)(r.A,{level:"novice",language:"urdu",children:[(0,a.jsx)(n.h2,{id:"gazebo-ki-zaban-sdf",children:"Gazebo Ki Zaban: SDF"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"URDF ROS ke liye, SDF Gazebo ke liye."})}),(0,a.jsxs)(n.p,{children:["Hum ne URDF seekha robot banane ke liye. Lekin URDF dunya (Sooraj, Zameen, Ghar) nahi bana sakta.\nGazebo ka apna format hai jise ",(0,a.jsx)(n.strong,{children:"SDF"})," kehte hain."]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"URDF"}),": Sirf Robot."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SDF"}),": Puri Kainaat (Robots + Physics + Roshni)."]}),"\n"]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"URDF se SDF"}),"\nJab aap Gazebo mein URDF robot daltay hain, to Gazebo chupke se usay SDF mein convert karta hai."]}),(0,a.jsx)(n.h3,{id:"sdf-world-ki-saakht",children:"SDF World Ki Saakht"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.6">\n  <world name="default">\n    \x3c!-- 1. Sooraj --\x3e\n    <include>\n      <uri>.../models/Sun</uri>\n    </include>\n\n    \x3c!-- 2. Zameen --\x3e\n    <include>\n      <uri>.../models/Ground Plane</uri>\n    </include>\n\n    \x3c!-- 3. Physics (Raftaar) --\x3e\n    <physics name="1ms" type="ignored">\n      <max_step_size>0.001</max_step_size> \x3c!-- 1 millisecond --\x3e\n    </physics>\n\n    \x3c!-- 4. Aap ka Robot --\x3e\n    <model name="my_robot">\n      <pose>0 0 0.5 0 0 0</pose> \x3c!-- Zameen se aadha meter oopar --\x3e\n      <link name="base_link"> ... </link>\n    </model>\n  </world>\n</sdf>\n'})}),(0,a.jsx)(n.h3,{id:"module-2-capstone-bhool-bhulaiya-maze",children:"Module 2 Capstone: Bhool Bhulaiya (Maze)"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Maqsad"}),"\nEk aisi simulation banayein jahan robot deewaron ke beech mein ho."]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Dunya Banayein"}),": Building Editor se deewarein khari karein aur ",(0,a.jsx)(n.code,{children:"maze.sdf"})," save karein."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Robot Dalein"}),": Module 1 wala ",(0,a.jsx)(n.code,{children:"blinky_bot"})," is mein shamil karein."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensors"}),": Robot par Lidar lagayein."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Chalayen"}),": Rviz2 mein dekhein ke robot ko deewarein nazar aa rahi hain."]}),"\n"]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Challenge"}),":\nKya aap aisa code likh sakte hain ke robot seedha chalta rahe, aur jaise hi deewar 1 meter qareeb aaye, wo baayein (left) murr jaye?"]})]}),"\n",(0,a.jsxs)(r.A,{level:"expert",language:"urdu",children:[(0,a.jsx)(n.h2,{id:"advanced-sdf-plugins-aur-kinematic-loops",children:"Advanced SDF: Plugins aur Kinematic Loops"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"SDF Kyun Zaroori Hai?"})}),(0,a.jsxs)(n.p,{children:['URDF ek "Tree" hai (Jarr se shakh tak). Yeh ',(0,a.jsx)(n.strong,{children:"Closed Loops"})," (Band dairay) nahi bana sakta."]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"Misal"}),": Agar robot ne dono hathon se ek danda pakra hua hai, to ye ek loop ban gaya. URDF yahan fail ho jata hai. SDF graph structure use karta hai jo loops ko handle kar sakta hai."]}),"\n"]}),(0,a.jsx)(n.h3,{id:"custom-plugins-likhna-c",children:"Custom Plugins Likhna (C++)"}),(0,a.jsx)(n.p,{children:"Kabhi kabhi aap ko simulation mein apni marzi ka jadoo chahiye hota hai (Jaise hawa chalana, ya conveyor belt). Is ke liye C++ plugin likhna parta hai."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:"// C++ Plugin Example\nclass WindPlugin : public System\n{\n  // Har frame par ye function chalega\n  public: void PreUpdate(...) \n  {\n    // Sab cheezon par hawa ka dhakka (force) lagao\n  }\n};\n"})}),(0,a.jsx)(n.h3,{id:"composition-cheezon-ko-jorna",children:"Composition (Cheezon ko Jorna)"}),(0,a.jsxs)(n.p,{children:["SDF mein aap model ke andar model daal sakte hain.\nAap ek ",(0,a.jsx)(n.code,{children:"wheel.sdf"})," bana kar usay ",(0,a.jsx)(n.code,{children:"car.sdf"})," mein 4 baar ",(0,a.jsx)(n.code,{children:"include"})," kar sakte hain. Aap har pahiye ki setting (jaise friction) alag bhi kar sakte hain."]}),(0,a.jsx)(n.h3,{id:"module-2-capstone-rl-training-environment",children:"Module 2 Capstone: RL Training Environment"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Maqsad"}),"\nAI ko train karne ke liye ek tez tareen environment banayein."]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Headless Mode"}),": Graphics band kar ke simulation chalayein."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Fast Reset"}),": Aisa nizam banayein ke jab robot gir jaye, to wo foran wapis start point par aa jaye (Process restart kiye baghair). Yeh AI training ki speed barhane ke liye lazmi hai."]}),"\n"]})]}),"\n",(0,a.jsx)(l.A,{questions:[{question:"What is the key structural difference between URDF and SDF?",options:["URDF is XML, SDF is JSON","URDF supports tree structures only, SDF supports graph structures (closed loops)","SDF is only for lights","URDF is faster"],correctAnswer:1},{question:"How do you include a pre-made model (like a Sun) in an SDF world?",options:["<spawn>","<include><uri>...</uri></include>","<import>","<copy>"],correctAnswer:1},{question:"Urdu: Agar aap ko robot ko train karte waqt graphics ki zaroorat nahi hai, to aap Gazebo ko kaise chalayenge?",options:["Silent Mode mein","Headless Mode mein (gz sim -s)","Sleep Mode mein","Monitor band kar ke"],correctAnswer:1}]})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}}}]);